<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Survey</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <style>
        .container {
            margin-right: 25px;
        }
    </style>
    <link rel="stylesheet" href="../css/survey.css">
</head>

<body>
    <div class="container">
        <div class="row">
            <div class="col-8">
                <header>
                    <h2>Friend Finder Survey <span class="fa fa-fire"></span></h2>
                </header>
            </div>
        </div>
        <div class="row">
            <div class="col-8">
                <form>
                    <div class="form-group">
                        <label for="ControlInput1">Name</label>
                        <input type="name" class="form-control" id="ControlInput1" placeholder="Qui-Gonn Jin">
                    </div>
                    <div class="form-group">
                        <label for="ControlInput1">Image</label>
                        <input type="name" class="form-control" id="ControlInput2" placeholder=".jpg">
                    </div>
                    <div class="form-group">
                        <p class="text-center">Answer each question with 1 being least likely and 10 being most likely!
                        </p>
                        <label for="exampleFormControlSelect1">How likely are you to eat plants?</label>
                        <select class="form-control" id="ControlSelect1">
                            <option class="option1" value=1>1</option>
                            <option class="option2" value=2>2</option>
                            <option class="option3" value=3>3</option>
                            <option class="option4" value=4>4</option>
                            <option class="option5" value=5>5</option>
                            <option class="option6" value=6>6</option>
                            <option class="option7" value=7>7</option>
                            <option class="option8" value=8>8</option>
                            <option class="option9" value=9>9</option>
                            <option class="option10" value=10>10</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="ControlSelect2">How likely are you to disrespect Star Wars?</label>
                        <select class="form-control" id="ControlSelect2">
                            <option class="option1" value=1>1</option>
                            <option class="option2" value=2>2</option>
                            <option class="option3" value=3>3</option>
                            <option class="option4" value=4>4</option>
                            <option class="option5" value=5>5</option>
                            <option class="option6" value=6>6</option>
                            <option class="option7" value=7>7</option>
                            <option class="option8" value=8>8</option>
                            <option class="option9" value=9>9</option>
                            <option class="option10" value=10>10</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="ControlSelect3">How likely are you to be mad if woken up by urination?(Not your
                            urination)</label>
                        <select class="form-control" id="ControlSelect3">
                            <option class="option1" value=1>1</option>
                            <option class="option2" value=2>2</option>
                            <option class="option3" value=3>3</option>
                            <option class="option4" value=4>4</option>
                            <option class="option5" value=5>5</option>
                            <option class="option6" value=6>6</option>
                            <option class="option7" value=7>7</option>
                            <option class="option8" value=8>8</option>
                            <option class="option9" value=9>9</option>
                            <option class="option10" value=10>10</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="ControlSelect4">How likely are you to make others do what you want to do?</label>
                        <select class="form-control" id="ControlSelect4">
                            <option class="option1" value=1>1</option>
                            <option class="option2" value=2>2</option>
                            <option class="option3" value=3>3</option>
                            <option class="option4" value=4>4</option>
                            <option class="option5" value=5>5</option>
                            <option class="option6" value=6>6</option>
                            <option class="option7" value=7>7</option>
                            <option class="option8" value=8>8</option>
                            <option class="option9" value=9>9</option>
                            <option class="option10" value=10>10</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="ControlSelect5">How likely are you to murder someone?</label>
                        <select class="form-control" id="ControlSelect5">
                            <option class="option1" value=1>1</option>
                            <option class="option2" value=2>2</option>
                            <option class="option3" value=3>3</option>
                            <option class="option4" value=4>4</option>
                            <option class="option5" value=5>5</option>
                            <option class="option6" value=6>6</option>
                            <option class="option7" value=7>7</option>
                            <option class="option8" value=8>8</option>
                            <option class="option9" value=9>9</option>
                            <option class="option10" value=10>10</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="ControlSelect6">How likely are you to assist in murdering someone?</label>
                        <select class="form-control" id="ControlSelect6">
                            <option class="option1" value=1>1</option>
                            <option class="option2" value=2>2</option>
                            <option class="option3" value=3>3</option>
                            <option class="option4" value=4>4</option>
                            <option class="option5" value=5>5</option>
                            <option class="option6" value=6>6</option>
                            <option class="option7" value=7>7</option>
                            <option class="option8" value=8>8</option>
                            <option class="option9" value=9>9</option>
                            <option class="option10" value=10>10</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="ControlSelect7">How likely are you to bring food to a friend and never get paid for
                            the food?</label>
                        <select class="form-control" id="ControlSelect7">
                            <option class="option1" value=1>1</option>
                            <option class="option2" value=2>2</option>
                            <option class="option3" value=3>3</option>
                            <option class="option4" value=4>4</option>
                            <option class="option5" value=5>5</option>
                            <option class="option6" value=6>6</option>
                            <option class="option7" value=7>7</option>
                            <option class="option8" value=8>8</option>
                            <option class="option9" value=9>9</option>
                            <option class="option10" value=10>10</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="ControlSelect8">How likely are you to ask to borrow fuel for your car?</label>
                        <select class="form-control" id="ControlSelect8">
                            <option class="option1" value=1>1</option>
                            <option class="option2" value=2>2</option>
                            <option class="option3" value=3>3</option>
                            <option class="option4" value=4>4</option>
                            <option class="option5" value=5>5</option>
                            <option class="option6" value=6>6</option>
                            <option class="option7" value=7>7</option>
                            <option class="option8" value=8>8</option>
                            <option class="option9" value=9>9</option>
                            <option class="option10" value=10>10</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="ControlSelect9">How likely are you to speak out of line?</label>
                        <select class="form-control" id="ControlSelect9">
                            <option class="option1" value=1>1</option>
                            <option class="option2" value=2>2</option>
                            <option class="option3" value=3>3</option>
                            <option class="option4" value=4>4</option>
                            <option class="option5" value=5>5</option>
                            <option class="option6" value=6>6</option>
                            <option class="option7" value=7>7</option>
                            <option class="option8" value=8>8</option>
                            <option class="option9" value=9>9</option>
                            <option class="option10" value=10>10</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="ControlSelect10">How likely are you to have finished this stupid survey to find
                            another loser?</label>
                        <select class="form-control" id="ControlSelect10">
                            <option class="option1" value=1>1</option>
                            <option class="option2" value=2>2</option>
                            <option class="option3" value=3>3</option>
                            <option class="option4" value=4>4</option>
                            <option class="option5" value=5>5</option>
                            <option class="option6" value=6>6</option>
                            <option class="option7" value=7>7</option>
                            <option class="option8" value=8>8</option>
                            <option class="option9" value=9>9</option>
                            <option class="option10" value=10>10</option>
                        </select>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="row mt-5">
        <div class="col text-center">
            <h3><button type="button" id="finish-button">Submit</button></h3>
        </div>
    </div>

    <div id="myModal" class="modal fade" role="dialog">
        <div class="modal-dialog">


            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">New Friends Information</h4>
                </div>
                <div class="modal-body">

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>

        </div>
    </div>
    <footer class="footer">
        <p><a href="/api/survey">API Survey Link</a></p>
        </div>
    </footer>
</body>

</html>

<script type="text/javascript">

    $("#finish-button").on("click", function (event) {
        event.preventDefault();

        var newFriend = {
            name: $("#ControlInput1").val().trim(),
            photo: $("#ControlInput2").val().trim(),
            scores: [
                parseInt($("#ControlSelect1").val()),
                parseInt($("#ControlSelect2").val()),
                parseInt($("#ControlSelect3").val()),
                parseInt($("#ControlSelect4").val()),
                parseInt($("#ControlSelect5").val()),
                parseInt($("#ControlSelect6").val()),
                parseInt($("#ControlSelect7").val()),
                parseInt($("#ControlSelect8").val()),
                parseInt($("#ControlSelect9").val()),
                parseInt($("#ControlSelect10").val())
            ]
        };

        $.post("/api/survey", newFriend,
            function (data) {

                if (data) {
                    console.log(data);
                    $('.modal-body').html(`<h1>Name: ${data.name}</h1>
                    <img id='user-photo' src='${data.photo}'>
                    <h3>Scores: ${data.scores}</h3>`);
                    $('#myModal').modal('show')
                }

            });

    });

</script>